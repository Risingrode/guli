
# 网关

前端与后端的网址不一致，需要一个网关来转发请求

# 跨域

在gateway中配置跨域请求

```java
// 这里的坑是不要导错包
@Configuration
public class GulimallCorsConfiguration {
    @Bean
    public CorsWebFilter corsWebFilter() {
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        CorsConfiguration corsConfiguration = new CorsConfiguration();
        // 1.配置跨域
        corsConfiguration.addAllowedHeader("*");
        corsConfiguration.addAllowedMethod("*");
        corsConfiguration.addAllowedOrigin("*");
        // 2.配置是否发送cookie信息
        corsConfiguration.setAllowCredentials(true);
        source.registerCorsConfiguration("/**", corsConfiguration);
        return new CorsWebFilter(source);
    }
}
```

# 坑

1. product 里面不要加application.name，否则会报错

# 表的说明

category_brand_relation: 分类和品牌的关系表
IDEA中,鼠标放在表明上面，表的注释自动显现。

# P78 
点击查询全部带上模糊查询的功能

vo: view object
接收页面传递过来的对象，封装对象。
把业务处理完成的对象，封装成页面要使用的数据。


# 三个配置文件的关系

application.yml: 全局配置文件，所有的配置都可以在里面找到
bootstrap.yml: 从配置中心获取配置信息
application.properties: 项目启动的时候，从本地获取配置信息

项目启动的时候，会从配置中心获取配置信息
如果配置中心没有配置信息，就会从本地获取配置信息

要使用配置中心就要在bootstrap.yml(bootstrap.properties)中来配置，bootstrap.yml配置文件的加载顺序要比application.yml要优先。

# 在nacos中配置

这里摔了大坑，在nacos里面搞好配置文件后，要加到bootstrap.properties中，
使用extension-configs进行配置，例子如下：
```properties
spring.application.name=gulimall-product
spring.cloud.nacos.config.server-addr=127.0.0.1:8848
spring.cloud.nacos.config.namespace=9eeb06b5-d257-403d-b78b-8af803b45994

spring.cloud.nacos.config.extension-configs[0].data-id=application.yml
spring.cloud.nacos.config.extension-configs[0].group=dev
spring.cloud.nacos.config.extension-configs[0].refresh=true
```

# DNS

> DNS代表域名系统（Domain Name System），它是互联网基础设施的一部分，
用于将人类可读的域名（如www.example.com）转换为计算机可理解的IP地址（如192.168.1.1）。
DNS起到了类似电话簿的作用，帮助计算机找到特定域名对应的服务器IP地址，
从而实现网络上各种服务的定位。

# nacos基本属性说明

Namespace：代表不同环境，如开发、测试、生产环境；

Group：代表某项目，如XX医疗项目、XX电商项目；

DataId：每个项目下往往有若干个工程，每个配置集(DataId)是一个工程的主配置文件


# mybatis分页插件(config目录下面)

```java
@Configuration
@EnableTransactionManagement//开启事务 方法可以使用事务了
@MapperScan("com.atguigu.gulimall.product.dao")
public class MyBatisConfig {
    // 引入分页插件
    @Bean
    public PaginationInterceptor paginationInterceptor() {
        PaginationInterceptor paginationInterceptor = new PaginationInterceptor();
        paginationInterceptor.setOverflow(true);//设置请求的页面大于最大页后操作，true调回到首页，false继续请求，默认false
        paginationInterceptor.setLimit(1000);//设置最大单页限制数量，默认500条，-1不受限制
        return new PaginationInterceptor();
    }
}
```

这个类的作用域是在 Spring Boot 项目的整个运行环境中。具体来说，这个类的作用域涵盖了以下几个方面：

1. `@EnableTransactionManagement` 注解开启了整个类的事务管理。项目中所有使用了 `@Transactional` 注解的方法都会受到这个类的影响。
2. `@MapperScan("com.atguigu.gulimall.product.dao")` 在整个项目中，MyBatis 的 Mapper 接口会被自动扫描，并且相应的实现会被 Spring 自动创建并注入到容器中。
3. `@Configuration` Spring 容器会扫描并加载该类，并将其中定义的 Bean 注册到容器中。













